{"version":3,"sources":["webpack:///./src/components/shareButton.js","webpack:///./src/components/map.js","webpack:///./src/components/paranoma.js","webpack:///./src/templates/toilet.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/helpButton.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/utils/utils.js","webpack:///./src/components/locationHelp.js"],"names":["ShareButton","props","react_default","a","createElement","esm","content","arrow","trigger","placement","interactive","style","verticalAlign","src","alt","isLocationAvailable","Map","componentWillUnmount","clearInterval","this","timerID","getGeoLocation","_this","navigator","geolocation","getCurrentPosition","position","locationMarker","setPosition","lat","coords","latitude","lng","longitude","accuracyRadius","setCenter","getPosition","setRadius","accuracy","forceUpdate","enableHighAccuracy","componentDidMount","_this2","setInterval","map","window","google","maps","document","getElementById","center","lon","zoom","gestureHandling","Marker","icon","Circle","radius","fillColor","fillOpacity","strokeWeight","self","centerControlDiv","controlDiv","controlUI","backgroundColor","border","borderRadius","boxShadow","cursor","textAlign","marginBottom","height","title","appendChild","controlText","innerHTML","addEventListener","index","controls","ControlPosition","LEFT_BOTTOM","push","render","locationHelp","id","width","React","Component","Paranoma","hotSpots","maleYaw","pitch","yaw","type","text","femaleYaw","handicappedYaw","waterCoolerYaw","pannellum","viewer","panorama","paranomaUrl","startingYaw","vaov","maxPitch","minPitch","autoLoad","Helmet","rel","href","__webpack_exports__","_ref","data","name","toilets","paranoma","url","layout","main","shareButton","listStyle","utils","className","class","query","m","module","exports","require","default","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_tippy_js_react__WEBPACK_IMPORTED_MODULE_1__","HelpButton","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","createContext","PropTypes","object","string","isRequired","func","gatsby__WEBPACK_IMPORTED_MODULE_1__","margin","maxWidth","padding","to","children","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","propTypes","shape","latLonToMetres","lat1","lon1","lat2","lon2","dLat","Math","PI","dLon","sin","cos","atan2","sqrt","round","appendMetres","distance","Number","isInteger","hasMaleToilet","toilet","hasFemaleToilet","hasHandicappedToilet","toiletHasHose","facilities","hose","toiletHasShowerHeads","showerHeads","toiletHasWaterCooler","_helpButton__WEBPACK_IMPORTED_MODULE_1__","textShadow","target"],"mappings":"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","file":"component---src-templates-toilet-js-8d6a0f127964ec93a63d.js","sourcesContent":["import React from \"react\"\nimport Tippy from \"@tippy.js/react\"\n\nconst ShareButton = props => (\n  <Tippy\n    content={props.content}\n    arrow={true}\n    trigger=\"click\"\n    placement=\"bottom\"\n    interactive={true}\n  >\n      <img\n        style={{ verticalAlign: \"bottom\" }}\n        src=\"https://material.io/tools/icons/static/icons/twotone-share-24px.svg\"\n        alt=\"\"\n      />\n  </Tippy>\n)\n\nexport default ShareButton\n","import React from \"react\"\nimport LocationHelp from './locationHelp'\n\nlet isLocationAvailable = true\n\nclass Map extends React.Component {\n\n  componentWillUnmount() {\n    clearInterval(this.timerID)\n  }\n\n  getGeoLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        position => {\n          this.locationMarker.setPosition({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n          })\n\n          this.accuracyRadius.setCenter(this.locationMarker.getPosition())\n          this.accuracyRadius.setRadius(position.coords.accuracy)\n        },\n        () => {\n          isLocationAvailable = false\n          this.forceUpdate()\n        },\n        { enableHighAccuracy: true }\n      )\n    } else {\n      // Browser doesn't support Geolocation\n      isLocationAvailable = false\n      this.forceUpdate()\n    }\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.getGeoLocation(), 1000)\n\n    this.map = new window.google.maps.Map(document.getElementById(\"map\"), {\n      center: { lat: this.props.lat, lng: this.props.lon },\n      zoom: 17,\n      gestureHandling: 'cooperative'\n    })\n\n    new window.google.maps.Marker({\n      position: { lat: this.props.lat, lng: this.props.lon },\n      map: this.map,\n    })\n\n    this.locationMarker = new window.google.maps.Marker({\n      map: this.map,\n      icon: `https://i.imgur.com/Rw0L7jC.png`,\n      position: { lat: this.props.lat, lng: this.props.lon },\n    })\n\n    this.accuracyRadius = new window.google.maps.Circle({\n      map: this.map,\n      center: { lat: this.props.lat, lng: this.props.lon },\n      radius: 0,\n      fillColor: \"#00F\",\n      fillOpacity: 0.2,\n      strokeWeight: 0,\n    })\n\n    // Location button\n    const self = this\n    function CenterControl(controlDiv, map) {\n      // Set CSS for the control border.\n      let controlUI = document.createElement(\"div\")\n      controlUI.style.backgroundColor = \"#fff\"\n      controlUI.style.border = \"2px solid #fff\"\n      controlUI.style.borderRadius = \"3px\"\n      controlUI.style.boxShadow = \"0 2px 6px rgba(0,0,0,.3)\"\n      controlUI.style.cursor = \"pointer\"\n      controlUI.style.textAlign = \"center\"\n      controlUI.style.marginBottom = '22px';\n      controlUI.style.height = \"31px\"\n      controlUI.title = \"Click to recenter the map to location\"\n      controlDiv.appendChild(controlUI)\n\n      // Set CSS for the control interior.\n      let controlText = document.createElement(\"div\")\n      controlText.innerHTML = \"<img src='https://i.imgur.com/raFRca2.png' />\"\n      controlUI.appendChild(controlText)\n\n      // Setup the click event listeners\n      controlUI.addEventListener(\"click\", function() {\n        self.getGeoLocation()\n        map.setCenter(self.locationMarker.getPosition());\n      })\n    }\n\n    // Render the button\n    let centerControlDiv = document.createElement(\"div\")\n    new CenterControl(centerControlDiv, this.map)\n\n    centerControlDiv.index = 1\n    this.map.controls[window.google.maps.ControlPosition.LEFT_BOTTOM].push(\n      centerControlDiv\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {!isLocationAvailable && <LocationHelp />}\n        <div id=\"map\" style={{ width: \"100%\", height: 300 }} />\n      </div>\n    )\n  }\n}\n\nexport default Map\n","import React from \"react\"\nimport { Helmet } from \"react-helmet\"\n\nclass Paranoma extends React.Component {\n  componentDidMount() {\n    // Determine hotspots\n    const hotSpots = []\n\n    if (this.props.maleYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.maleYaw,\n        type: \"info\",\n        text: \"Male\"\n      })\n    }\n\n    if (this.props.femaleYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.femaleYaw,\n        type: \"info\",\n        text: \"Female\"\n      })\n    }\n\n    if (this.props.handicappedYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.handicappedYaw,\n        type: \"info\",\n        text: \"Handicapped\"\n      })\n    }\n\n    if (this.props.waterCoolerYaw !== null) {\n      hotSpots.push({\n        pitch: 0,\n        yaw: this.props.waterCoolerYaw,\n        type: \"info\",\n        text: \"Water Cooler\",\n      })\n    }\n\n    window.pannellum.viewer(\"panorama\", {\n      type: \"equirectangular\",\n      panorama: this.props.paranomaUrl,\n      yaw: this.props.startingYaw,\n      vaov: 45,\n      maxPitch: 0,\n      minPitch: 0,\n      autoLoad: true,\n      hotSpots,\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Helmet>\n          <link\n            rel=\"stylesheet\"\n            href=\"https://cdn.pannellum.org/2.4/pannellum.css\"\n          />\n        </Helmet>\n        <div id=\"panorama\" style={{ width: \"100%\", height: 200 }} />\n      </div>\n    )\n  }\n}\n\nexport default Paranoma\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport ShareButton from \"../components/shareButton\"\nimport * as utils from \"../utils/utils\"\nimport Map from \"../components/map\"\nimport Paranoma from \"../components/paranoma\"\n\nexport default ({ data }) => {\n  const name = data.toilets.name\n  const lat = data.toilets.lat\n  const lon = data.toilets.lon\n  const paranomaUrl = data.toilets.paranoma.url\n  const startingYaw = data.toilets.paranoma.startingYaw\n  const maleYaw = data.toilets.paranoma.maleYaw\n  const femaleYaw = data.toilets.paranoma.femaleYaw\n  const handicappedYaw = data.toilets.paranoma.handicappedYaw\n  const waterCoolerYaw = data.toilets.paranoma.waterCoolerYaw\n\n  return (\n    <Layout main={false}>\n      <h3>{name}</h3>\n      <ShareButton />\n      <Map lat={lat} lon={lon} />\n      <Paranoma\n        name={name}\n        paranomaUrl={paranomaUrl}\n        startingYaw={startingYaw}\n        maleYaw={maleYaw}\n        femaleYaw={femaleYaw}\n        handicappedYaw={handicappedYaw}\n        waterCoolerYaw={waterCoolerYaw}\n      />\n      <h4>At a glance</h4>\n      <ul style={{ listStyle: \"none\" }}>\n        {utils.hasMaleToilet(data.toilets) && (\n          <li>\n            <i className=\"em-svg em-man-raising-hand\" />\n            Has Male toilet\n          </li>\n        )}\n        {utils.hasFemaleToilet(data.toilets) && (\n          <li>\n            <i className=\"em-svg em-woman-raising-hand\" />\n            Has Female toilet\n          </li>\n        )}\n        {utils.hasHandicappedToilet(data.toilets) && (\n          <li>\n            <i className=\"em-svg em-wheelchair\" />\n            Is handicap accessible (Add in seperate or not seperate)\n          </li>\n        )}\n        {utils.toiletHasWaterCooler(data.toilets) && (\n          <li>\n            <i class=\"em-svg em-potable_water\"></i>\n            Has water cooler\n          </li>\n        )}\n        {utils.toiletHasShowerHeads(data.toilets) && (\n          <li>\n            <i class=\"em-svg em-shower\" />\n            Has shower heads\n          </li>\n        )}\n        {utils.toiletHasHose(data.toilets) && (\n          <li>\n            <i class=\"em-svg em-sweat_drops\" />\n            Has hose\n          </li>\n        )}\n      </ul>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    toilets(fields: { slug: { eq: $slug } }) {\n      name\n      lat\n      lon\n      paranoma {\n        femaleYaw\n        handicappedYaw\n        maleYaw\n        startingYaw\n        waterCoolerYaw\n        url\n      }\n      facilities {\n        hose\n        showerHeads\n      }\n    }\n  }\n`\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport Tippy from \"@tippy.js/react\"\n\nconst HelpButton = props => (\n  <Tippy\n    content={props.content}\n    arrow={true}\n    trigger=\"click\"\n    placement=\"bottom\"\n    interactive={true}\n  >\n    <img\n      style={{ verticalAlign: \"middle\" }}\n      src=\"https://material.io/tools/icons/static/icons/baseline-help_outline-24px.svg\"\n      alt=\"\"\n    />\n  </Tippy>\n)\n\nexport default HelpButton\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nexport default (props) => (\n  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>\n    {!props.main && <Link to=\"/\">Back</Link>}\n    {props.main && <h1>Let It Go</h1>}\n    {props.children}\n  </div>\n)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","function latLonToMetres(lat1, lon1, lat2, lon2) {\n  if (lat1 === null || lat2 === null || lon1 === null || lon2 === null) {\n    return \"Location not available\"\n  }\n  const R = 6371000 // Radius of the earth in m\n  const dLat = (lat2 - lat1) * (Math.PI / 180)\n  const dLon = (lon2 - lon1) * (Math.PI / 180)\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(lat1 * (Math.PI / 180)) *\n      Math.cos(lat2 * (Math.PI / 180)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n  const d = R * c // Distance in m\n  return Math.round(d)\n}\n\nfunction appendMetres(distance) {\n  return Number.isInteger(distance) ? distance + \"m\" : distance\n}\n\nfunction hasMaleToilet(toilet) {\n  return toilet.paranoma.maleYaw != null\n}\n\nfunction hasFemaleToilet(toilet) {\n  return toilet.paranoma.femaleYaw != null\n}\n\nfunction hasHandicappedToilet(toilet) {\n  return toilet.paranoma.handicappedYaw != null\n}\n\nfunction toiletHasHose(toilet) {\n  return toilet.facilities.hose\n}\n\nfunction toiletHasShowerHeads(toilet) {\n  return toilet.facilities.showerHeads\n}\n\nfunction toiletHasWaterCooler(toilet) {\n  return toilet.paranoma.waterCoolerYaw != null\n}\n\nexport {\n  latLonToMetres,\n  hasMaleToilet,\n  hasFemaleToilet,\n  hasHandicappedToilet,\n  toiletHasHose,\n  toiletHasShowerHeads,\n  toiletHasWaterCooler,\n  appendMetres\n}\n","import React from \"react\"\nimport HelpButton from \"./helpButton\"\n\nconst content = (\n  <div style={{ textAlign: \"left\" }}>\n    Check that you have:\n    <ul>\n      <li>\n        Enabled your device's GPS settings\n        <ul>\n          <li>\n            <a\n              style={{\n                textShadow: \"none\",\n              }}\n              href=\"https://support.google.com/accounts/answer/3467281\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              Android\n            </a>\n          </li>\n          <li>\n            <a\n              style={{ textShadow: \"none\" }}\n              href=\"https://support.apple.com/en-us/HT207092\"\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n            >\n              iOS\n            </a>\n          </li>\n          <li>Reload this page after enabling GPS settings</li>\n        </ul>\n      </li>\n      <li>\n        Allowed your browser and this website the neccessary permissions to read\n        your location\n        <ul>\n          <li>Press allow when a similar prompt as below appears</li>\n          <li>If such a prompt does not appear, reload the page</li>\n        </ul>\n      </li>\n    </ul>\n    <img\n      src=\"https://raw.githubusercontent.com/nelsontky/let-it-go/master/assets/misc/locationHelp.png\"\n      alt=\"\"\n    />\n  </div>\n)\n\nexport default () => (\n  <p>\n    Location not detected <HelpButton content={content} />\n  </p>\n)\n"],"sourceRoot":""}